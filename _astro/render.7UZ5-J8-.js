import{aT as p,ak as O,aU as Y,ae as b,ag as v,aq as c,ai as E,a as H,d as f,aB as I,af as V,aV as k,aw as x,as as C,aW as M,aX as N,aY as S,aZ as h,ar as W,c as $,a0 as j,h as w,ah as q,g as B,a2 as U,a_ as X,o as Z}from"./utils.CfRq9FGY.js";let A=!0;function G(a,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(a.__t??=a.nodeValue)&&(a.__t=n,a.nodeValue=n==null?"":n+"")}function z(a,e){return D(a,e)}function J(a,e){p(),e.intro=e.intro??!1;const n=e.target,_=w,l=f;try{for(var t=O(n);t&&(t.nodeType!==8||t.data!==Y);)t=b(t);if(!t)throw v;c(!0),E(t),H();const i=D(a,{...e,anchor:t});if(f===null||f.nodeType!==8||f.data!==I)throw V(),v;return c(!1),i}catch(i){if(i===v)return e.recover===!1&&k(),p(),x(n),c(!1),z(a,e);throw i}finally{c(_),E(l)}}const o=new Map;function D(a,{target:e,anchor:n,props:_={},events:l,context:t,intro:i=!0}){p();var g=new Set,y=d=>{for(var r=0;r<d.length;r++){var s=d[r];if(!g.has(s)){g.add(s);var T=X(s);e.addEventListener(s,h,{passive:T});var R=o.get(s);R===void 0?(document.addEventListener(s,h,{passive:T}),o.set(s,1)):o.set(s,R+1)}}};y(C(M)),N.add(y);var u=void 0,L=S(()=>{var d=n??e.appendChild(W());return $(()=>{if(t){j({});var r=Z;r.c=t}l&&(_.$$events=l),w&&q(d,null),A=i,u=a(d,_)||{},A=!0,w&&(B.nodes_end=f),t&&U()}),()=>{for(var r of g){e.removeEventListener(r,h);var s=o.get(r);--s===0?(document.removeEventListener(r,h),o.delete(r)):o.set(r,s)}N.delete(y),m.delete(u),d!==n&&d.parentNode?.removeChild(d)}});return m.set(u,L),u}let m=new WeakMap;function K(a){const e=m.get(a);e&&e()}export{G as a,J as h,z as m,A as s,K as u};
