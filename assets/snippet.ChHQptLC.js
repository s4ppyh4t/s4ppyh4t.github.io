import{S as P,aS as A,aT as O,Q as c,aU as D,X as o,U as s,G as N,A as m,g as F,aV as U,aP as j,F as k,aJ as B,aI as K,aW as L,aB as M,h as E,d as S,c as C,b as G,E as J,a as Q,k as V,ax as W}from"./utils.CQFzoSWC.js";function b(f,y=null,h){if(typeof f!="object"||f===null||P in f)return f;const v=j(f);if(v!==A&&v!==O)return f;var r=new Map,d=k(f),g=c(0);d&&r.set("length",c(f.length));var l;return new Proxy(f,{defineProperty(a,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&D();var n=r.get(e);return n===void 0?(n=c(t.value),r.set(e,n)):o(n,b(t.value,l)),!0},deleteProperty(a,e){var t=r.get(e);if(t===void 0)e in a&&r.set(e,c(s));else{if(d&&typeof e=="string"){var n=r.get("length"),i=Number(e);Number.isInteger(i)&&i<n.v&&o(n,i)}o(t,s),T(g)}return!0},get(a,e,t){if(e===P)return f;var n=r.get(e),i=e in a;if(n===void 0&&(!i||N(a,e)?.writable)&&(n=c(b(i?a[e]:s,l)),r.set(e,n)),n!==void 0){var u=m(n);return u===s?void 0:u}return Reflect.get(a,e,t)},getOwnPropertyDescriptor(a,e){var t=Reflect.getOwnPropertyDescriptor(a,e);if(t&&"value"in t){var n=r.get(e);n&&(t.value=m(n))}else if(t===void 0){var i=r.get(e),u=i?.v;if(i!==void 0&&u!==s)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return t},has(a,e){if(e===P)return!0;var t=r.get(e),n=t!==void 0&&t.v!==s||Reflect.has(a,e);if(t!==void 0||F!==null&&(!n||N(a,e)?.writable)){t===void 0&&(t=c(n?b(a[e],l):s),r.set(e,t));var i=m(t);if(i===s)return!1}return n},set(a,e,t,n){var i=r.get(e),u=e in a;if(d&&e==="length")for(var _=t;_<i.v;_+=1){var w=r.get(_+"");w!==void 0?o(w,s):_ in a&&(w=c(s),r.set(_+"",w))}i===void 0?(!u||N(a,e)?.writable)&&(i=c(void 0),o(i,b(t,l)),r.set(e,i)):(u=i.v!==s,o(i,b(t,l)));var R=Reflect.getOwnPropertyDescriptor(a,e);if(R?.set&&R.set.call(n,t),!u){if(d&&typeof e=="string"){var I=r.get("length"),x=Number(e);Number.isInteger(x)&&x>=I.v&&o(I,x+1)}T(g)}return!0},ownKeys(a){m(g);var e=Reflect.ownKeys(a).filter(i=>{var u=r.get(i);return u===void 0||u.v!==s});for(var[t,n]of r)n.v!==s&&!(t in a)&&e.push(t);return e},setPrototypeOf(){U()}})}function T(f,y=1){o(f,f.v+y)}function Y(f,y,...h){var v=f,r=V,d;G(()=>{r!==(r=y())&&(d&&(W(d),d=null),d=Q(()=>r(v,...h)))},J),E&&(v=S)}function Z(f){return(y,...h)=>{var v=f(...h),r;if(E)r=S,C();else{var d=v.render().trim(),g=B(d);r=M(g),y.before(r)}const l=v.setup?.(r);K(r,r),typeof l=="function"&&L(l)}}export{Z as c,b as p,Y as s};
