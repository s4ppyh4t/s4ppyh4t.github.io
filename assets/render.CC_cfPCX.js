import{aT as p,av as O,aU as Y,az as b,aB as g,aj as c,ai as E,a as C,d as f,aw as H,aA as I,aV as V,ap as j,al as k,aW as x,aX as A,aY as M,aZ as h,ak as S,c as W,a0 as $,h as w,aC as z,g as B,a2 as U,a_ as X,o as Z}from"./utils.oM5l8dKR.js";let N=!0;function G(a,e){var n=e==null?"":typeof e=="object"?e+"":e;n!==(a.__t??=a.nodeValue)&&(a.__t=n,a.nodeValue=n==null?"":n+"")}function q(a,e){return D(a,e)}function J(a,e){p(),e.intro=e.intro??!1;const n=e.target,_=w,l=f;try{for(var t=O(n);t&&(t.nodeType!==8||t.data!==Y);)t=b(t);if(!t)throw g;c(!0),E(t),C();const i=D(a,{...e,anchor:t});if(f===null||f.nodeType!==8||f.data!==H)throw I(),g;return c(!1),i}catch(i){if(i===g)return e.recover===!1&&V(),p(),j(n),c(!1),q(a,e);throw i}finally{c(_),E(l)}}const o=new Map;function D(a,{target:e,anchor:n,props:_={},events:l,context:t,intro:i=!0}){p();var v=new Set,y=d=>{for(var r=0;r<d.length;r++){var s=d[r];if(!v.has(s)){v.add(s);var T=X(s);e.addEventListener(s,h,{passive:T});var R=o.get(s);R===void 0?(document.addEventListener(s,h,{passive:T}),o.set(s,1)):o.set(s,R+1)}}};y(k(x)),A.add(y);var u=void 0,L=M(()=>{var d=n??e.appendChild(S());return W(()=>{if(t){$({});var r=Z;r.c=t}l&&(_.$$events=l),w&&z(d,null),N=i,u=a(d,_)||{},N=!0,w&&(B.nodes_end=f),t&&U()}),()=>{for(var r of v){e.removeEventListener(r,h);var s=o.get(r);--s===0?(document.removeEventListener(r,h),o.delete(r)):o.set(r,s)}A.delete(y),m.delete(u),d!==n&&d.parentNode?.removeChild(d)}});return m.set(u,L),u}let m=new WeakMap;function K(a){const e=m.get(a);e&&e()}export{G as a,J as h,q as m,N as s,K as u};
