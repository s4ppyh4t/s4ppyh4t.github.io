import{a2 as P,aS as S,aT as A,a6 as o,aU as D,i as c,U as s,W as N,g as m,F,aV as K,aP as U,V as j,aK as C,aJ as L,aW as M,aC as V,x as I,z as O,y as W,q as k,E as q,w as z,n as B,ay as J}from"./utils.CiJ5zt6R.js";function b(f,y=null,w){if(typeof f!="object"||f===null||P in f)return f;const v=U(f);if(v!==S&&v!==A)return f;var r=new Map,d=j(f),g=o(0);d&&r.set("length",o(f.length));var l;return new Proxy(f,{defineProperty(a,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&D();var n=r.get(e);return n===void 0?(n=o(t.value),r.set(e,n)):c(n,b(t.value,l)),!0},deleteProperty(a,e){var t=r.get(e);if(t===void 0)e in a&&r.set(e,o(s));else{if(d&&typeof e=="string"){var n=r.get("length"),i=Number(e);Number.isInteger(i)&&i<n.v&&c(n,i)}c(t,s),E(g)}return!0},get(a,e,t){if(e===P)return f;var n=r.get(e),i=e in a;if(n===void 0&&(!i||N(a,e)?.writable)&&(n=o(b(i?a[e]:s,l)),r.set(e,n)),n!==void 0){var u=m(n);return u===s?void 0:u}return Reflect.get(a,e,t)},getOwnPropertyDescriptor(a,e){var t=Reflect.getOwnPropertyDescriptor(a,e);if(t&&"value"in t){var n=r.get(e);n&&(t.value=m(n))}else if(t===void 0){var i=r.get(e),u=i?.v;if(i!==void 0&&u!==s)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return t},has(a,e){if(e===P)return!0;var t=r.get(e),n=t!==void 0&&t.v!==s||Reflect.has(a,e);if(t!==void 0||F!==null&&(!n||N(a,e)?.writable)){t===void 0&&(t=o(n?b(a[e],l):s),r.set(e,t));var i=m(t);if(i===s)return!1}return n},set(a,e,t,n){var i=r.get(e),u=e in a;if(d&&e==="length")for(var _=t;_<i.v;_+=1){var h=r.get(_+"");h!==void 0?c(h,s):_ in a&&(h=o(s),r.set(_+"",h))}i===void 0?(!u||N(a,e)?.writable)&&(i=o(void 0),c(i,b(t,l)),r.set(e,i)):(u=i.v!==s,c(i,b(t,l)));var R=Reflect.getOwnPropertyDescriptor(a,e);if(R?.set&&R.set.call(n,t),!u){if(d&&typeof e=="string"){var T=r.get("length"),x=Number(e);Number.isInteger(x)&&x>=T.v&&c(T,x+1)}E(g)}return!0},ownKeys(a){m(g);var e=Reflect.ownKeys(a).filter(i=>{var u=r.get(i);return u===void 0||u.v!==s});for(var[t,n]of r)n.v!==s&&!(t in a)&&e.push(t);return e},setPrototypeOf(){K()}})}function E(f,y=1){c(f,f.v+y)}function Z(f,y,...w){var v=f,r=B,d;k(()=>{r!==(r=y())&&(d&&(J(d),d=null),d=z(()=>r(v,...w)))},q),I&&(v=O)}function G(f){return(y,...w)=>{var v=f(...w),r;if(I)r=O,W();else{var d=v.render().trim(),g=C(d);r=V(g),y.before(r)}const l=v.setup?.(r);L(r,r),typeof l=="function"&&M(l)}}export{G as c,b as p,Z as s};
