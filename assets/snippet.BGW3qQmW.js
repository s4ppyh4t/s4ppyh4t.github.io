import{S as R,aQ as D,aR as O,N as c,aS as A,V as o,U as s,D as x,y as m,g as U,aT as j,aN as k,C,aH as F,aG as K,aU as L,az as M,h as I,d as S,c as z,b as B,E as G,a as H,k as Q,av as V}from"./utils.CaBHRE2t.js";function b(f,y=null,h){if(typeof f!="object"||f===null||R in f)return f;const v=k(f);if(v!==D&&v!==O)return f;var r=new Map,d=C(f),g=c(0);d&&r.set("length",c(f.length));var l;return new Proxy(f,{defineProperty(a,e,t){(!("value"in t)||t.configurable===!1||t.enumerable===!1||t.writable===!1)&&A();var n=r.get(e);return n===void 0?(n=c(t.value),r.set(e,n)):o(n,b(t.value,l)),!0},deleteProperty(a,e){var t=r.get(e);if(t===void 0)e in a&&r.set(e,c(s));else{if(d&&typeof e=="string"){var n=r.get("length"),i=Number(e);Number.isInteger(i)&&i<n.v&&o(n,i)}o(t,s),E(g)}return!0},get(a,e,t){if(e===R)return f;var n=r.get(e),i=e in a;if(n===void 0&&(!i||x(a,e)?.writable)&&(n=c(b(i?a[e]:s,l)),r.set(e,n)),n!==void 0){var u=m(n);return u===s?void 0:u}return Reflect.get(a,e,t)},getOwnPropertyDescriptor(a,e){var t=Reflect.getOwnPropertyDescriptor(a,e);if(t&&"value"in t){var n=r.get(e);n&&(t.value=m(n))}else if(t===void 0){var i=r.get(e),u=i?.v;if(i!==void 0&&u!==s)return{enumerable:!0,configurable:!0,value:u,writable:!0}}return t},has(a,e){if(e===R)return!0;var t=r.get(e),n=t!==void 0&&t.v!==s||Reflect.has(a,e);if(t!==void 0||U!==null&&(!n||x(a,e)?.writable)){t===void 0&&(t=c(n?b(a[e],l):s),r.set(e,t));var i=m(t);if(i===s)return!1}return n},set(a,e,t,n){var i=r.get(e),u=e in a;if(d&&e==="length")for(var _=t;_<i.v;_+=1){var w=r.get(_+"");w!==void 0?o(w,s):_ in a&&(w=c(s),r.set(_+"",w))}i===void 0?(!u||x(a,e)?.writable)&&(i=c(void 0),o(i,b(t,l)),r.set(e,i)):(u=i.v!==s,o(i,b(t,l)));var P=Reflect.getOwnPropertyDescriptor(a,e);if(P?.set&&P.set.call(n,t),!u){if(d&&typeof e=="string"){var T=r.get("length"),N=Number(e);Number.isInteger(N)&&N>=T.v&&o(T,N+1)}E(g)}return!0},ownKeys(a){m(g);var e=Reflect.ownKeys(a).filter(i=>{var u=r.get(i);return u===void 0||u.v!==s});for(var[t,n]of r)n.v!==s&&!(t in a)&&e.push(t);return e},setPrototypeOf(){j()}})}function E(f,y=1){o(f,f.v+y)}function Z(f,y,...h){var v=f,r=Q,d;B(()=>{r!==(r=y())&&(d&&(V(d),d=null),d=H(()=>r(v,...h)))},G),I&&(v=S)}function q(f){return(y,...h)=>{var v=f(...h),r;if(I)r=S,z();else{var d=v.render().trim(),g=F(d);r=M(g),y.before(r)}const l=v.setup?.(r);K(r,r),typeof l=="function"&&L(l)}}export{q as c,b as p,Z as s};
